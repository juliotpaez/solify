(globalThis["webpackChunksolify"]=globalThis["webpackChunksolify"]||[]).push([[64],{93972:(e,t,n)=>{"use strict";n.d(t,{Z:()=>B});var l=n(59835),a=n(86970),i=n(60499),c=n(53141),o=n(47627),u=function(e,t,n,l){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function c(e){try{u(l.next(e))}catch(t){i(t)}}function o(e){try{u(l["throw"](e))}catch(t){i(t)}}function u(e){e.done?n(e.value):a(e.value).then(c,o)}u((l=l.apply(e,t||[])).next())}))};function s(e){return u(this,void 0,void 0,(function*(){return new Promise((t=>setTimeout(t,e)))}))}var r=n(65326),d=n(16642),w=n(9626),f=n(40622),m=n(17779),p=function(e,t,n,l){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function c(e){try{u(l.next(e))}catch(t){i(t)}}function o(e){try{u(l["throw"](e))}catch(t){i(t)}}function u(e){e.done?n(e.value):a(e.value).then(c,o)}u((l=l.apply(e,t||[])).next())}))};const k=["src"],y={key:0,class:"q-ml-sm"},g={key:0,class:"q-ml-sm"},v={key:0,class:"q-ml-sm"},h=(0,l.Uk)("Show wallets"),x=(0,l.Uk)("Cancel"),b=(0,l.Uk)("Disconnect"),q=(0,l.Uk)(" Available: "),_=(0,l.Uk)(" Not installed: "),U=(0,l.aZ)({__name:"WalletButton",setup(e){const t=(0,o.O)(),n=(0,f.Os)(),u=(0,w.s)(),U=(0,l.Fl)((()=>{var e;return(0,r.G)(null!==(e=n.publicKey.value)&&void 0!==e?e:c.PublicKey["default"])})),S=(0,l.Fl)((()=>n.wallets.value.filter((e=>"Installed"===e.readyState)))),W=(0,l.Fl)((()=>n.wallets.value.filter((e=>"Installed"!==e.readyState))));function C(e){return p(this,void 0,void 0,(function*(){"Installed"!==e.readyState&&window.open(e.url,"_blank");try{n.select(e.name),yield s(100),yield n.connect()}catch(t){m.error("Failed to connect the wallet",t)}}))}function Z(){return p(this,void 0,void 0,(function*(){n.connecting.value=!1}))}function D(){return p(this,void 0,void 0,(function*(){try{yield n.disconnect()}catch(e){m.error("Failed to disconnect the wallet",e)}}))}function Q(){return p(this,void 0,void 0,(function*(){yield t.open(d.Ux.Wallets)}))}return(e,t)=>{const c=(0,l.up)("q-spinner"),o=(0,l.up)("q-icon"),s=(0,l.up)("q-item-section"),r=(0,l.up)("q-item"),d=(0,l.up)("q-separator"),w=(0,l.up)("q-item-label"),f=(0,l.up)("q-img"),m=(0,l.up)("q-list"),p=(0,l.up)("q-card"),I=(0,l.up)("q-menu"),H=(0,l.up)("q-btn"),Y=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(H,{class:(0,a.C_)(["wallet-button",{mobile:(0,i.SU)(u).isMobile}]),color:"secondary","no-caps":"",outline:""},{default:(0,l.w5)((()=>[(0,i.SU)(n).connected.value?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l._)("img",{src:(0,i.SU)(n).wallet.value.icon,class:"icon-image"},null,8,k),(0,i.SU)(u).isMobile?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("span",y,(0,a.zw)((0,i.SU)(U)),1))],64)):(0,i.SU)(n).connecting.value?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.Wm)(c,{size:"16px"}),(0,i.SU)(u).isMobile?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("span",g,"Connecting..."))],64)):((0,l.wg)(),(0,l.iD)(l.HY,{key:2},[(0,l.Wm)(o,{name:"fa-solid fa-wallet",size:"16px"}),(0,i.SU)(u).isMobile?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("span",v,"Connect Wallet"))],64)),(0,l.Wm)(I,{fit:""},{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(r,{clickable:"",onClick:Q},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{class:"text-center text-bold"},{default:(0,l.w5)((()=>[h])),_:1})])),_:1})),[[Y]]),(0,l.Wm)(d),(0,i.SU)(n).connecting.value?(0,l.wy)(((0,l.wg)(),(0,l.j4)(r,{key:0,clickable:"",onClick:Z},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{class:"text-negative text-center text-bold"},{default:(0,l.w5)((()=>[x])),_:1})])),_:1})),[[Y]]):(0,l.kq)("",!0),(0,i.SU)(n).connected.value?(0,l.wy)(((0,l.wg)(),(0,l.j4)(r,{key:1,clickable:"",onClick:D},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{class:"text-negative text-center text-bold"},{default:(0,l.w5)((()=>[b])),_:1})])),_:1})),[[Y]]):(0,i.SU)(n).connecting.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)(l.HY,{key:2},[(0,i.SU)(S).length>0?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Wm)(w,{header:"",class:"q-py-sm q-px-md text-secondary text-caption text-bold"},{default:(0,l.w5)((()=>[q])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,i.SU)(S),(e=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(r,{key:e.name,clickable:"",onClick:t=>C(e)},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{src:e.icon,height:"20px",width:"20px"},null,8,["src"])])),_:2},1024),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.name),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[Y]]))),128))],64)):(0,l.kq)("",!0),(0,i.SU)(W).length>0?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.Wm)(w,{header:"",class:"q-py-sm q-px-md text-secondary text-caption text-bold"},{default:(0,l.w5)((()=>[_])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,i.SU)(W),(e=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(r,{key:e.name,clickable:"",onClick:t=>C(e)},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{src:e.icon,height:"20px",width:"20px"},null,8,["src"])])),_:2},1024),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.name),1)])),_:2},1024),(0,l.Wm)(s,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{name:"fa-solid fa-arrow-up-right-from-square",size:"10px",class:"q-ml-xs",color:"grey-4"})])),_:1})])),_:2},1032,["onClick"])),[[Y]]))),128))],64)):(0,l.kq)("",!0)],64))])),_:1})])),_:1})])),_:1})])),_:1},8,["class"])}}});var S=n(11639),W=n(24455),C=n(13902),Z=n(22857),D=n(56362),Q=n(44458),I=n(13246),H=n(490),Y=n(76749),j=n(50926),z=n(33115),F=n(70335),M=n(62146),P=n(69984),K=n.n(P);const T=(0,S.Z)(U,[["__scopeId","data-v-16b34560"]]),B=T;K()(U,"components",{QBtn:W.Z,QSpinner:C.Z,QIcon:Z.Z,QMenu:D.Z,QCard:Q.Z,QList:I.Z,QItem:H.Z,QItemSection:Y.Z,QSeparator:j.Z,QItemLabel:z.Z,QImg:F.Z}),K()(U,"directives",{ClosePopup:M.Z})},7420:()=>{},95856:()=>{},46601:()=>{}}]);